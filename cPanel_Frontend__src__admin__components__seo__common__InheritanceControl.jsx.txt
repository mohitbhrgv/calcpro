import React from "react";
import SafeIcon from "../../../../common/SafeIcon";
import * as FiIcons from "react-icons/fi";

const { FiLock, FiUnlock, FiInfo } = FiIcons;

/**
 * InheritanceControl
 * 
 * A toggle component that allows switching between "Global Inheritance" and "Custom Override".
 * 
 * @param {boolean} isCustom - If true, custom settings are active (Unlocked). If false, inheriting global (Locked).
 * @param {function} onToggle - Callback function when the user switches modes.
 * @param {string} label - The label for the section being controlled (e.g., "Robots Meta").
 */
const InheritanceControl = ({ isCustom, onToggle, label }) => {
  return (
    <div className="flex flex-col md:flex-row md:items-center justify-between py-4 mb-2 bg-gray-50 dark:bg-gray-700/30 rounded-lg px-4 border border-gray-200 dark:border-gray-700">
      <div className="flex items-center gap-3 mb-2 md:mb-0">
        <div className={`p-2 rounded-full ${isCustom ? "bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400" : "bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"}`}>
          <SafeIcon icon={isCustom ? FiUnlock : FiLock} className="w-4 h-4" />
        </div>
        <div>
          <h4 className="text-sm font-bold text-gray-800 dark:text-gray-100">
            {label} Configuration
          </h4>
          <p className="text-xs text-gray-500 dark:text-gray-400">
            {isCustom 
              ? "Custom settings enabled. Global defaults are ignored." 
              : "Inheriting settings from Global Meta."}
          </p>
        </div>
      </div>

      <button
        type="button"
        onClick={() => onToggle(!isCustom)}
        className={`flex items-center space-x-2 px-4 py-2 rounded-md text-xs font-bold uppercase tracking-wide transition-all shadow-sm ${
            isCustom
            ? "bg-white dark:bg-gray-800 border border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20"
            : "bg-blue-600 border border-transparent text-white hover:bg-blue-700"
        }`}
      >
        <span>{isCustom ? "Revert to Global" : "Customize"}</span>
      </button>
    </div>
  );
};

export default InheritanceControl;