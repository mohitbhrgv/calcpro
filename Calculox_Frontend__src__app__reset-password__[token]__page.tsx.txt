import type { Metadata } from 'next';
import ClientResetPassword from '../client';
import { getSiteSettings } from '@/lib/content';
import { constructMetadata } from '@/lib/seo';

export async function generateMetadata(): Promise<Metadata> {
  const settings = await getSiteSettings();
  
  return constructMetadata({
    data: { title: "Set New Password" },
    settings,
    type: "auth-reset",
    path: "/reset-password"
  });
}

// Next.js 15: Props must be awaited
type Props = {
  params: Promise<{ token: string }>;
};

export default async function ResetPasswordTokenPage({ params }: Props) {
  const { token } = await params;
  return <ClientResetPassword token={token} />;
}